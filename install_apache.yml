---
  - hosts: all
    become: true
    tasks:
      - name: update repo index
        apt: 
          update_cache: yes
        when: ansible_distribution  == "Ubuntu"
      - name: install apache2 package
        apt: 
          name: 
           - apache2
           - libapache2-mod-php
      - name: update repo index
        dnf: 
          update_cache: yes
        when: ansible_distribution == "CentOS"
      - name: install httpd and php packages
        dnf: 
          name: 
           - httpd
           - php 
        when: ansible_distribution  == "CentOS"

